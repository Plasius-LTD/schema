# AGENTS

This repo is `@plasius/schema`, a TypeScript schema definition and validation library.

## Setup
- Use Node.js 22 (see `.nvmrc`) and npm.
- Install dependencies with `npm ci`.

## Common commands
- `npm test` (Vitest run)
- `npm run test:watch`
- `npm run lint`
- `npm run build`
- `npm run clean`

## Repo conventions
- Source lives in `src/`; tests in `tests/`.
- `dist/` is generated by `tsup` (do not edit by hand).
- Keep TypeScript `strict` and follow ESLint.
- Add tests for new or changed behavior; keep coverage steady or improving.
- Add TSDoc for exported types/functions.
- Update `README.md` and `CHANGELOG.md` for user-facing changes.
- Architectural changes require ADRs in `docs/adrs/` (or the repo ADRs folder); ensure a package-function ADR exists.

## Safety
- Never include real PII in code, tests, examples, or logs.
- Follow `SECURITY.md` for vulnerability reporting.

## AI guidance
- After any change, run relevant BDD/TDD tests when they exist; mention if skipped.
- For fixes, add/update a BDD or TDD test that fails first and validate it passes after the fix when possible.
- When adding or updating dependencies, prefer lazy-loading (dynamic import/code splitting) to avoid heavy first-load network use when applicable.
